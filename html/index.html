<!doctype html>
<html>
<head>

</head>
<body>
<script src="config.md.js" charset="UTF-8"></script>
<script src="map.md.js" charset="UTF-8"></script>
<script src="options.md.js" charset="UTF-8"></script>
<script src="examples.md.js" charset="UTF-8"></script>
<script>
  var queuedAction = '';
  function getGameConfig() { return GAME_CONFIG; }
  function getGameMap() { return GAME_MAP; }
  function getGameOptions() { return document.getElementById('options').value /*GAME_OPTIONS*/; }
  function getExamples() { return GAME_EXAMPLES; }
  function getAction() { let x = queuedAction; queuedAction = ''; return x; }
</script>
<script type="module">
  Error.stackTraceLimit = Infinity;
  console.log('(html) start');
  import('../pkg/factini.js').then(x => {
    console.log('(html) loaded, starting Factini now');
    x.default();
  }, (e) => console.error(e));
  console.log('(html) after import');
</script>
<style>#tdb img { border: 1px solid green; }</style>
<textarea id="tdb" style="float: right; border: 1px solid black; white-space: pre; font-family: monospace;" onClick="this.select();">the debug box</textarea>
<textarea id="options" style="float: right; clear: right; width: 300px; height: 600px; margin-top: 5px; margin-right: 5px;" autocomplete="off" spellcheck="false">hello</textarea>
<script>document.getElementById('options').value = GAME_OPTIONS.trim();</script>
<button style="float: right; clear: right; margin-top: 5px; margin-right: 5px;" onClick="queuedAction = 'apply_options';">Apply options</button>
</body>
</html>
